{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport ownerWindow from '@mui/utils/ownerWindow';\nexport const useChartContainerDimensions = (inWidth, inHeight, resolveSizeBeforeRender) => {\n  const stateRef = React.useRef({\n    displayError: false,\n    initialCompute: true,\n    computeRun: 0\n  });\n  const rootRef = React.useRef(null);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n  // Adaptation of the `computeSizeAndPublishResizeEvent` from the grid.\n  const computeSize = React.useCallback(() => {\n    const mainEl = rootRef?.current;\n    if (!mainEl) {\n      return {};\n    }\n    const win = ownerWindow(mainEl);\n    const computedStyle = win.getComputedStyle(mainEl);\n    const newHeight = Math.floor(parseFloat(computedStyle.height)) || 0;\n    const newWidth = Math.floor(parseFloat(computedStyle.width)) || 0;\n    setWidth(newWidth);\n    setHeight(newHeight);\n    return {\n      width: newWidth,\n      height: newHeight\n    };\n  }, []);\n  React.useEffect(() => {\n    // Ensure the error detection occurs after the first rendering.\n    stateRef.current.displayError = true;\n  }, []);\n\n  // This effect is used to compute the size of the container on the initial render.\n  // It is not bound to the raf loop to avoid an unwanted \"resize\" event.\n  // https://github.com/mui/mui-x/issues/13477#issuecomment-2336634785\n  useEnhancedEffect(() => {\n    // computeRun is used to avoid infinite loops.\n    if (!resolveSizeBeforeRender || !stateRef.current.initialCompute || stateRef.current.computeRun > 20) {\n      return;\n    }\n    const computedSize = computeSize();\n    if (computedSize.width !== width || computedSize.height !== height) {\n      stateRef.current.computeRun += 1;\n    } else if (stateRef.current.initialCompute) {\n      stateRef.current.initialCompute = false;\n    }\n  }, [width, height, computeSize, resolveSizeBeforeRender]);\n  useEnhancedEffect(() => {\n    if (inWidth !== undefined && inHeight !== undefined) {\n      return () => {};\n    }\n    computeSize();\n    const elementToObserve = rootRef.current;\n    if (typeof ResizeObserver === 'undefined') {\n      return () => {};\n    }\n    let animationFrame;\n    const observer = new ResizeObserver(() => {\n      // See https://github.com/mui/mui-x/issues/8733\n      animationFrame = requestAnimationFrame(() => {\n        computeSize();\n      });\n    });\n    if (elementToObserve) {\n      observer.observe(elementToObserve);\n    }\n    return () => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame);\n      }\n      if (elementToObserve) {\n        observer.unobserve(elementToObserve);\n      }\n    };\n  }, [computeSize, inHeight, inWidth]);\n  if (process.env.NODE_ENV !== 'production') {\n    if (stateRef.current.displayError && inWidth === undefined && width === 0) {\n      console.error(`MUI X: ChartContainer does not have \\`width\\` prop, and its container has no \\`width\\` defined.`);\n      stateRef.current.displayError = false;\n    }\n    if (stateRef.current.displayError && inHeight === undefined && height === 0) {\n      console.error(`MUI X: ChartContainer does not have \\`height\\` prop, and its container has no \\`height\\` defined.`);\n      stateRef.current.displayError = false;\n    }\n  }\n  return {\n    containerRef: rootRef,\n    width: inWidth ?? width,\n    height: inHeight ?? height\n  };\n};","map":{"version":3,"names":["React","useEnhancedEffect","ownerWindow","useChartContainerDimensions","inWidth","inHeight","resolveSizeBeforeRender","stateRef","useRef","displayError","initialCompute","computeRun","rootRef","width","setWidth","useState","height","setHeight","computeSize","useCallback","mainEl","current","win","computedStyle","getComputedStyle","newHeight","Math","floor","parseFloat","newWidth","useEffect","computedSize","undefined","elementToObserve","ResizeObserver","animationFrame","observer","requestAnimationFrame","observe","cancelAnimationFrame","unobserve","process","env","NODE_ENV","console","error","containerRef"],"sources":["D:/Vaishali/demo2/node_modules/@mui/x-charts/ResponsiveChartContainer/useChartContainerDimensions.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\nimport ownerWindow from '@mui/utils/ownerWindow';\nexport const useChartContainerDimensions = (inWidth, inHeight, resolveSizeBeforeRender) => {\n  const stateRef = React.useRef({\n    displayError: false,\n    initialCompute: true,\n    computeRun: 0\n  });\n  const rootRef = React.useRef(null);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n\n  // Adaptation of the `computeSizeAndPublishResizeEvent` from the grid.\n  const computeSize = React.useCallback(() => {\n    const mainEl = rootRef?.current;\n    if (!mainEl) {\n      return {};\n    }\n    const win = ownerWindow(mainEl);\n    const computedStyle = win.getComputedStyle(mainEl);\n    const newHeight = Math.floor(parseFloat(computedStyle.height)) || 0;\n    const newWidth = Math.floor(parseFloat(computedStyle.width)) || 0;\n    setWidth(newWidth);\n    setHeight(newHeight);\n    return {\n      width: newWidth,\n      height: newHeight\n    };\n  }, []);\n  React.useEffect(() => {\n    // Ensure the error detection occurs after the first rendering.\n    stateRef.current.displayError = true;\n  }, []);\n\n  // This effect is used to compute the size of the container on the initial render.\n  // It is not bound to the raf loop to avoid an unwanted \"resize\" event.\n  // https://github.com/mui/mui-x/issues/13477#issuecomment-2336634785\n  useEnhancedEffect(() => {\n    // computeRun is used to avoid infinite loops.\n    if (!resolveSizeBeforeRender || !stateRef.current.initialCompute || stateRef.current.computeRun > 20) {\n      return;\n    }\n    const computedSize = computeSize();\n    if (computedSize.width !== width || computedSize.height !== height) {\n      stateRef.current.computeRun += 1;\n    } else if (stateRef.current.initialCompute) {\n      stateRef.current.initialCompute = false;\n    }\n  }, [width, height, computeSize, resolveSizeBeforeRender]);\n  useEnhancedEffect(() => {\n    if (inWidth !== undefined && inHeight !== undefined) {\n      return () => {};\n    }\n    computeSize();\n    const elementToObserve = rootRef.current;\n    if (typeof ResizeObserver === 'undefined') {\n      return () => {};\n    }\n    let animationFrame;\n    const observer = new ResizeObserver(() => {\n      // See https://github.com/mui/mui-x/issues/8733\n      animationFrame = requestAnimationFrame(() => {\n        computeSize();\n      });\n    });\n    if (elementToObserve) {\n      observer.observe(elementToObserve);\n    }\n    return () => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame);\n      }\n      if (elementToObserve) {\n        observer.unobserve(elementToObserve);\n      }\n    };\n  }, [computeSize, inHeight, inWidth]);\n  if (process.env.NODE_ENV !== 'production') {\n    if (stateRef.current.displayError && inWidth === undefined && width === 0) {\n      console.error(`MUI X: ChartContainer does not have \\`width\\` prop, and its container has no \\`width\\` defined.`);\n      stateRef.current.displayError = false;\n    }\n    if (stateRef.current.displayError && inHeight === undefined && height === 0) {\n      console.error(`MUI X: ChartContainer does not have \\`height\\` prop, and its container has no \\`height\\` defined.`);\n      stateRef.current.displayError = false;\n    }\n  }\n  return {\n    containerRef: rootRef,\n    width: inWidth ?? width,\n    height: inHeight ?? height\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}